<!DOCTYPE html>
<html>
<head>
    <title>CMS Test</title>
</head>
<body>
    <h1>üîç CMS Diagnostic Test</h1>
    
    <div id="status">Testing...</div>
    
    <script>
        function log(msg) {
            document.getElementById('status').innerHTML += '<br>' + msg;
            console.log(msg);
        }
        
        log('‚úÖ Page loaded');
        log('üîç Testing Decap CMS load...');
        
        // Test loading Decap CMS
        const script = document.createElement('script');
        script.src = 'https://unpkg.com/decap-cms@^3.0.0/dist/decap-cms.js';
        
        script.onload = function() {
            log('‚úÖ Decap CMS script loaded successfully');
            log('üîç Current URL: ' + window.location.href);
            log('üîç Config should be at: ' + window.location.origin + '/admin/config.yml');
            
            // Test config file
            fetch('/admin/config.yml')
                .then(response => {
                    if (response.ok) {
                        log('‚úÖ Config file accessible');
                        return response.text();
                    } else {
                        log('‚ùå Config file not found (404)');
                    }
                })
                .then(config => {
                    if (config) {
                        log('‚úÖ Config content preview: ' + config.substring(0, 100) + '...');
                    }
                })
                .catch(err => {
                    log('‚ùå Config fetch error: ' + err.message);
                });
        };
        
        script.onerror = function() {
            log('‚ùå Failed to load Decap CMS script');
        };
        
        document.head.appendChild(script);
    </script>
</body>
</html>
