<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Firebase Auth Test</title>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
  <style>
    body { 
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      max-width: 400px;
      width: 90%;
      text-align: center;
    }
    h1 { color: #333; margin-bottom: 10px; }
    .status { margin: 15px 0; padding: 10px; border-radius: 6px; display: none; }
    .status.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .status.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    .btn { width: 100%; padding: 12px 20px; margin: 10px 0; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; }
    .btn-email { background: #007bff; color: white; }
    .btn-email:hover { background: #0056b3; }
    .btn-google { background: #db4437; color: white; }
    .btn-google:hover { background: #c1351d; }
  </style>
</head>
<body>
  <div class="container">
    <h1>🔥 Firebase Auth Test - Ouday Account</h1>
    <p>Testing with ouday.khaled@gmail.com Firebase project</p>
    <div id="status"></div>
    <button id="test-email" class="btn btn-email">📧 Test Email Auth</button>
    <button id="test-google" class="btn btn-google">🌐 Test Google Auth</button>
  </div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyB7CmwNzzpxpAfttN8q9g6lj4kLsoq04uU",
      authDomain: "escool-docs-ouday.firebaseapp.com",
      projectId: "escool-docs-ouday",
      storageBucket: "escool-docs-ouday.firebasestorage.app",
      messagingSenderId: "1053515727845",
      appId: "1:1053515727845:web:8a06539380f212ebdae50c"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    
    function showStatus(msg, error = false) {
      const div = document.getElementById("status");
      div.textContent = msg;
      div.className = "status " + (error ? "error" : "success");
      div.style.display = "block";
      setTimeout(() => div.style.display = "none", 5000);
    }
    
    document.getElementById("test-email").onclick = () => {
      const email = prompt("Email:");
      const password = prompt("Password:");
      if (email && password) {
        auth.createUserWithEmailAndPassword(email, password)
          .then(() => showStatus("✅ Email auth works!"))
          .catch(e => {
            if (e.code === 'auth/email-already-in-use') {
              return auth.signInWithEmailAndPassword(email, password)
                .then(() => showStatus("✅ Email sign-in works!"));
            }
            showStatus("❌ " + e.message, true);
          });
      }
    };
    
    document.getElementById("test-google").onclick = () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then(() => showStatus("✅ Google auth works!"))
        .catch(e => showStatus("❌ " + e.message, true));
    };
  </script>
</body>
</html>
